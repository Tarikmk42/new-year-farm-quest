<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã -->
    <title>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ö–≤–µ—Å—Ç –Ω–∞ –§–µ—Ä–º–µ</title>
    <meta name="description" content="–ü—Ä–æ–π—Ç–∏ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –∏ –≤—ã–∏–≥—Ä–∞—Ç—å –ø—Ä–∏–∑—ã!">
    
    <!-- –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/96/christmas-tree.png">
    <link rel="icon" type="image/png" href="https://img.icons8.com/color/96/christmas-tree.png">
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Mountains+of+Christmas:wght@700&display=swap" rel="stylesheet">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2E7D32">
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="app">
        <!-- ===== –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò ===== -->
        <div id="loading-screen" class="screen active">
            <div class="loading-content">
                <div class="snowflakes">
                    <div class="snowflake">‚ùÑÔ∏è</div>
                    <div class="snowflake">‚ùÑÔ∏è</div>
                    <div class="snowflake">‚ùÑÔ∏è</div>
                    <div class="snowflake">‚ùÑÔ∏è</div>
                </div>
                <div class="loader">üéÑ</div>
                <h2>–ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ...</h2>
                <div class="progress-container">
                    <div class="progress-bar" id="loading-progress"></div>
                </div>
                <p class="loading-tip" id="loading-tip">–ì–æ—Ç–æ–≤–∏–º –æ–ª–µ–Ω–µ–π –∏ –ø–æ–¥–∞—Ä–∫–∏...</p>
            </div>
        </div>

        <!-- ===== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ===== -->
        <div id="main-menu" class="screen">
            <div class="menu-background">
                <div class="floating-animals">
                    <span>üê¥</span>
                    <span>üêë</span>
                    <span>ü¶ô</span>
                    <span>üêï</span>
                </div>
            </div>
            
            <div class="menu-container">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <header class="menu-header">
                    <h1 class="game-title">üéÑ –ù–û–í–û–ì–û–î–ù–ò–ô<br>–ö–í–ï–°–¢ –ù–ê –§–ï–†–ú–ï</h1>
                    <p class="game-subtitle">–ü—Ä–æ–π—Ç–∏ –≤—Å–µ —ç—Ç–∞–ø—ã –∏ –≤—ã–∏–≥—Ä–∞—Ç—å –ø—Ä–∏–∑—ã!</p>
                </header>
                
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∏–≥—Ä–æ–∫–∞ -->
                <div class="player-card">
                    <div class="player-avatar">
                        <span id="player-emoji">üßë‚Äçüåæ</span>
                    </div>
                    <div class="player-info">
                        <h3 id="player-name">–ò–≥—Ä–æ–∫</h3>
                        <div class="player-stats">
                            <span>üèÜ –û—á–∫–∏: <span id="player-best-score">0</span></span>
                            <span>‚≠ê –£—Ä–æ–≤–µ–Ω—å: <span id="player-level">1</span></span>
                        </div>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é -->
                <div class="menu-buttons">
                    <button id="start-game" class="btn btn-primary btn-large">
                        <span class="btn-icon">üéÆ</span> –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
                    </button>
                    
                    <button id="continue-game" class="btn btn-secondary btn-large">
                        <span class="btn-icon">‚û°Ô∏è</span> –ü–†–û–î–û–õ–ñ–ò–¢–¨
                    </button>
                    
                    <button id="buy-ticket" class="btn btn-special">
                        <span class="btn-icon">üé´</span> –ö–£–ü–ò–¢–¨ –ö–ê–†–¢–£ (500‚ÇΩ)
                    </button>
                    
                    <button id="how-to-play" class="btn btn-outline">
                        <span class="btn-icon">üìö</span> –ö–ê–ö –ò–ì–†–ê–¢–¨
                    </button>
                    
                    <div class="buttons-row">
                        <button id="rules" class="btn btn-outline">
                            <span class="btn-icon">üìú</span> –ü–†–ê–í–ò–õ–ê
                        </button>
                        <button id="prizes" class="btn btn-outline">
                            <span class="btn-icon">üéÅ</span> –ü–†–ò–ó–´
                        </button>
                    </div>
                </div>

                <!-- –ü–æ–¥–≤–∞–ª –º–µ–Ω—é -->
                <div class="menu-footer">
                    <div class="daily-bonus">
                        <span class="bonus-icon">üéÅ</span>
                        <span>–†–æ–∑—ã–≥—Ä—ã—à 15 —è–Ω–≤–∞—Ä—è!</span>
                    </div>
                    <p class="version">–í–µ—Ä—Å–∏—è 1.0</p>
                </div>
            </div>
        </div>

        <!-- ===== –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù ===== -->
        <div id="game-screen" class="screen">
            <!-- –®–∞–ø–∫–∞ –∏–≥—Ä—ã -->
            <div class="game-header">
                <button id="pause-btn" class="btn btn-icon">‚è∏Ô∏è</button>
                
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-icon">üéØ</span>
                        <span id="current-stage">1/6</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">üèÜ</span>
                        <span id="score">0</span>
                    </div>
                    <div class="stat timer">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span id="timer">60:00</span>
                    </div>
                </div>
                
                <div class="lives">
                    <span class="heart">‚ù§Ô∏è</span>
                    <span id="lives">3</span>
                </div>
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <div class="game-content">
                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
                <div class="progress-container">
                    <div class="progress-bar" id="stage-progress"></div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —ç—Ç–∞–ø–∞ -->
                <div class="stage-container">
                    <h2 id="stage-title">‚ùÑÔ∏è –°–ù–ï–ñ–ò–ù–ö–ò –í–û–õ–®–ï–ë–ù–´–• –°–ê–ù–ï–ô</h2>
                    <p id="stage-description">–î–µ–¥ –ú–æ—Ä–æ–∑ –ø–æ—Ç–µ—Ä—è–ª —Å–Ω–µ–∂–∏–Ω–∫–∏!</p>
                    
                    <div class="task-card">
                        <h3>üéØ –ó–∞–¥–∞—á–∞:</h3>
                        <p id="stage-task">–ù–∞–π–¥–∏ –≤—Å–µ —Å–Ω–µ–∂–∏–Ω–∫–∏ –Ω–∞ —Å–∞–Ω—è—Ö</p>
                    </div>
                    
                    <div class="joke-card">
                        <h3>üòÑ –®—É—Ç–∫–∞:</h3>
                        <p id="stage-joke">–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</p>
                    </div>
                    
                    <div class="fact-card">
                        <h3>üß† –§–∞–∫—Ç:</h3>
                        <p id="stage-fact">–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</p>
                    </div>
                    
                    <div class="location-info">
                        <p>üìç –ú–µ—Å—Ç–æ: <span id="stage-location">–ö–∞—Ä–µ—Ç–Ω—ã–π –¥–≤–æ—Ä</span></p>
                        <p>‚û°Ô∏è –î–∞–ª–µ–µ: <span id="next-location">–ú–∞–Ω–µ–∂</span></p>
                    </div>
                </div>
                
                <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->
                <div class="hints-section">
                    <button id="hint-btn" class="btn btn-hint">
                        üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ (<span id="hints-left">3</span>)
                    </button>
                    <button id="skip-btn" class="btn btn-skip">
                        ‚è© –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (<span id="skips-left">1</span>)
                    </button>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞ -->
            <div class="input-panel">
                <div class="input-container">
                    <input type="text" 
                           id="answer-input" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..."
                           maxlength="50">
                    <button id="submit-answer" class="btn btn-primary">
                        ‚úÖ –ü–†–û–í–ï–†–ò–¢–¨
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== –≠–ö–†–ê–ù –ü–†–ò–û–ë–†–ï–¢–ï–ù–ò–Ø –ö–ê–†–¢–´ ===== -->
        <div id="ticket-screen" class="screen">
            <div class="ticket-container">
                <div class="ticket-header">
                    <h2>üé´ –í–û–õ–®–ï–ë–ù–ê–Ø –ö–ê–†–¢–ê</h2>
                    <p>–î–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∫–≤–µ—Å—Ç–µ</p>
                </div>
                
                <div class="ticket-card">
                    <div class="ticket-front">
                        <div class="ticket-title">–ù–û–í–û–ì–û–î–ù–ò–ô –ö–í–ï–°–¢</div>
                        <div class="ticket-number" id="ticket-number">NYF-000001</div>
                        <div class="ticket-price">500 ‚ÇΩ</div>
                        <div class="ticket-info">
                            <p>üìç –§–µ—Ä–º–∞ "–ú–∞—Ä—å–∏–Ω–æ"</p>
                            <p>üìÖ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ 15.01.2024</p>
                            <p>üéÅ –£—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ</p>
                        </div>
                    </div>
                    
                    <div class="ticket-back">
                        <h4>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:</h4>
                        <ul>
                            <li>‚úÖ –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —ç—Ç–∞–ø–∞–º</li>
                            <li>‚úÖ –£—á–∞—Å—Ç–∏–µ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ</li>
                            <li>‚úÖ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏</li>
                            <li>‚úÖ –ü–∞–º—è—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</li>
                            <li>‚úÖ –ì–æ—Ä—è—á–∏–π —á–∞–π –Ω–∞ —Ñ–µ—Ä–º–µ</li>
                        </ul>
                    </div>
                </div>
                
                <div class="ticket-buttons">
                    <button id="buy-ticket-confirm" class="btn btn-primary btn-large">
                        üí∞ –ö–£–ü–ò–¢–¨ –ö–ê–†–¢–£
                    </button>
                    <button id="back-from-ticket" class="btn btn-outline">
                        ‚Ü©Ô∏è –ù–ê–ó–ê–î
                    </button>
                </div>
                
                <div class="ticket-note">
                    <p>üí° –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –∫–∞—Ä—Ç—É –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –≤ –í–æ–ª—à–µ–±–Ω—ã–π —Å—É–Ω–¥—É–∫ –Ω–∞ —Ñ–µ—Ä–º–µ</p>
                </div>
            </div>
        </div>

        <!-- ===== –≠–ö–†–ê–ù –í–û–õ–®–ï–ë–ù–û–ì–û –°–£–ù–î–£–ö–ê ===== -->
        <div id="chest-screen" class="screen">
            <div class="chest-container">
                <div class="chest-header">
                    <div class="chest-icon">üéÅ</div>
                    <h2>–í–û–õ–®–ï–ë–ù–´–ô –°–£–ù–î–£–ö</h2>
                    <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –ø—Ä–æ—à—ë–ª –∫–≤–µ—Å—Ç!</p>
                </div>
                
                <div class="chest-content">
                    <div class="chest-animation">
                        <div class="chest">üóùÔ∏è</div>
                        <div class="sparkles">‚ú®‚ú®‚ú®</div>
                    </div>
                    
                    <div class="final-stats">
                        <div class="final-stat">
                            <span>–≠—Ç–∞–ø–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:</span>
                            <strong id="final-stages">6/6</strong>
                        </div>
                        <div class="final-stat">
                            <span>–ù–∞–±—Ä–∞–Ω–æ –æ—á–∫–æ–≤:</span>
                            <strong id="final-score">0</strong>
                        </div>
                        <div class="final-stat">
                            <span>–í–∞—à –∫–æ–¥:</span>
                            <strong id="final-code" class="code">XXXX-XXXX</strong>
                        </div>
                    </div>
                    
                    <div class="chest-instructions">
                        <h3>üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:</h3>
                        <ol>
                            <li>–ó–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–æ–¥: <span id="display-code">XXXX-XXXX</span></li>
                            <li>–ù–∞–π–¥–∏—Ç–µ –í–æ–ª—à–µ–±–Ω—ã–π —Å—É–Ω–¥—É–∫ –Ω–∞ —Ñ–µ—Ä–º–µ</li>
                            <li>–ü–æ–ª–æ–∂–∏—Ç–µ –≤ –Ω–µ–≥–æ —Å–≤–æ—é –∫–∞—Ä—Ç—É</li>
                            <li>–ñ–¥–∏—Ç–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ 15 —è–Ω–≤–∞—Ä—è!</li>
                        </ol>
                    </div>
                </div>
                
                <div class="chest-buttons">
                    <button id="share-result" class="btn btn-primary">
                        üì§ –ü–û–î–ï–õ–ò–¢–¨–°–Ø
                    </button>
                    <button id="save-code" class="btn btn-secondary">
                        üíæ –°–û–•–†–ê–ù–ò–¢–¨ –ö–û–î
                    </button>
                    <button id="back-to-menu-from-chest" class="btn btn-outline">
                        üè† –í –ú–ï–ù–Æ
                    </button>
                </div>
                
                <div class="prizes-info">
                    <h3>üéÅ –ì–õ–ê–í–ù–´–ï –ü–†–ò–ó–´:</h3>
                    <ul>
                        <li>üèÜ –ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ –º–µ—Å—è—Ü (2 —à—Ç.)</li>
                        <li>üéØ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</li>
                        <li>üö∂ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—É–ª–∫–∞</li>
                        <li>üì∏ –§–æ—Ç–æ—Å–µ—Å—Å–∏—è —Å –ª–æ—à–∞–¥—å—é</li>
                        <li>üéÑ 5 —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –ø—Ä–∏–∑–æ–≤!</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ===== –≠–ö–†–ê–ù –ü–†–ê–í–ò–õ ===== -->
        <div id="rules-screen" class="screen">
            <div class="rules-container">
                <h2>üìú –ü–†–ê–í–ò–õ–ê –ò–ì–†–´</h2>
                
                <div class="rules-content">
                    <div class="rule-card">
                        <h3>üé´ 1. –ü–û–õ–£–ß–ï–ù–ò–ï –ö–ê–†–¢–´</h3>
                        <p>–ü—Ä–∏–æ–±—Ä–µ—Ç–∏—Ç–µ –∫–∞—Ä—Ç—É —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∑–∞ 500 —Ä—É–±–ª–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>üéØ 2. –ü–†–û–•–û–ñ–î–ï–ù–ò–ï –≠–¢–ê–ü–û–í</h3>
                        <p>–ù–∞ —Ñ–µ—Ä–º–µ 6 —ç—Ç–∞–ø–æ–≤. –ù–∞ –∫–∞–∂–¥–æ–º –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∏ –≤–≤–µ—Å—Ç–∏ –∫–æ–¥</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>üéÅ 3. –í–û–õ–®–ï–ë–ù–´–ô –°–£–ù–î–£–ö</h3>
                        <p>–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø–æ–ª–æ–∂–∏—Ç–µ –∫–∞—Ä—Ç—É –≤ —Å—É–Ω–¥—É–∫</p>
                    </div>
                    
                    <div class="rule-card">
                        <h3>üèÜ 4. –†–û–ó–´–ì–†–´–® –ü–†–ò–ó–û–í</h3>
                        <p>15 —è–Ω–≤–∞—Ä—è –º—ã —Ä–∞–∑—ã–≥—Ä–∞–µ–º –ø—Ä–∏–∑—ã —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∫–∞—Ä—Ç –≤ —Å—É–Ω–¥—É–∫–µ</p>
                    </div>
                </div>
                
                <button id="back-from-rules" class="btn btn-primary">
                    ‚Ü©Ô∏è –ü–û–ù–Ø–¢–ù–û
                </button>
            </div>
        </div>

        <!-- ===== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ===== -->
        <div id="notification" class="notification">
            <span id="notification-text">–°–æ–æ–±—â–µ–Ω–∏–µ</span>
        </div>

        <!-- ===== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ü–û–î–°–ö–ê–ó–ö–ò ===== -->
        <div id="hint-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="hint-text">–¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p>
                </div>
                <div class="modal-footer">
                    <button id="use-hint-btn" class="btn btn-primary">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JavaScript -->
    <script src="app.js"></script>
    
    <!-- –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–Ω–µ–∂–∏–Ω–æ–∫ -->
    <script>
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∑–∞–≥—Ä—É–∑–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            const snowflakes = document.querySelectorAll('.snowflake');
            snowflakes.forEach((flake, index) => {
                flake.style.left = `${Math.random() * 100}%`;
                flake.style.animationDuration = `${3 + Math.random() * 5}s`;
                flake.style.animationDelay = `${Math.random() * 2}s`;
                flake.style.opacity = `${0.3 + Math.random() * 0.7}`;
            });
        });
    </script>
</body>
</html>